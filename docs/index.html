<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Evan Lee's Website</title>

  <style>
    :root{
      --bg1:#0b1328;           /* galactic blue */
      --bg2:#060914;           /* near-black blue */
      --text:#9aa3b2;          /* grey text */
      --node:#4ade80;          /* soft neon green */
      --link:rgba(200,210,220,0.25); /* light gray lines */
    }

    html, body {
      margin: 0;
      height: 100%;
      background: radial-gradient(circle at top, var(--bg1), var(--bg2));
      color: var(--text);
      font: 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      overflow: hidden;
    }

    #graph { width: 100vw; height: 100vh; }

    /* Minimal top-left header */
    .header {
      position: fixed;
      top: 18px;
      left: 18px;
      z-index: 10;
      background: rgba(0,0,0,0.35);
      border: 1px solid rgba(255,255,255,0.08);
      padding: 12px 14px;
      border-radius: 12px;
      backdrop-filter: blur(6px);
      max-width: min(520px, calc(100vw - 36px));
    }

    .name {
      margin: 0 0 6px;
      font-size: 16px;
      font-weight: 600;
      letter-spacing: 0.2px;
      color: #c7cfdd;
    }

    .bio {
      margin: 0 0 8px;
      font-size: 14px;
      color: var(--text);
    }

    .links a {
      color: #c7cfdd;
      text-decoration: none;
      margin-right: 10px;
      font-size: 14px;
      white-space: nowrap;
      opacity: 0.9;
    }
    .links a:hover { text-decoration: underline; text-underline-offset: 3px; opacity: 1; }

    /* Bottom-left mouse hint */
    .hint {
      position: fixed;
      left: 18px;
      bottom: 18px;
      z-index: 10;
      font-size: 13px;
      color: var(--text);
      background: rgba(0,0,0,0.28);
      border: 1px solid rgba(255,255,255,0.07);
      padding: 10px 12px;
      border-radius: 12px;
      backdrop-filter: blur(6px);
    }
  </style>

  <!-- Interactive 3D brain graph (Three.js bundled). -->
  <script src="https://unpkg.com/3d-force-graph@1"></script>
</head>

<body>
  <div id="graph"></div>

  <div class="header">
    <p class="name">Evan (Yao-Chen) Lee</p>
    <p class="bio">I like asking questions. Currently a rising Freshman at Brown for CS and Philosophy. I'm interested in the future, normativity, and infinity. I like nodes.
    </p>
    <div class="links">
      <a href="mailto:evanyclee1@gmail.com">Email</a>
      <a href="https://substack.com/@evanyclee?" rel="noreferrer">Substack</a>
      <a href="https://www.linkedin.com/in/evan-l-15b0072a2/" rel="noreferrer">LinkedIn</a>
      <a href="https://www.instagram.com/itpfoodreview/" rel="noreferrer">Eats</a>
    </div>
  </div>

  <div class="hint">
    Drag = rotate • Scroll = zoom • Right-drag = pan • Click node = focus
  </div>

  <script>
  // ---------- helpers ----------
  function randBetween(a, b) { return a + Math.random() * (b - a); }

  // Point-in-polygon (ray casting)
  function pointInPoly(x, y, poly) {
    let inside = false;
    for (let i = 0, j = poly.length - 1; i < poly.length; j = i++) {
      const xi = poly[i][0], yi = poly[i][1];
      const xj = poly[j][0], yj = poly[j][1];
      const intersect =
        ((yi > y) !== (yj > y)) &&
        (x < (xj - xi) * (y - yi) / ((yj - yi) || 1e-12) + xi);
      if (intersect) inside = !inside;
    }
    return inside;
  }

  // Stylized Taiwan-ish outline (normalized)
  const TAIWAN_OUTLINE = [
    [ 0.10,  1.00],
    [ 0.22,  0.95],
    [ 0.33,  0.84],
    [ 0.40,  0.72],
    [ 0.44,  0.58],
    [ 0.45,  0.44],
    [ 0.43,  0.30],
    [ 0.37,  0.16],
    [ 0.30,  0.04],
    [ 0.18, -0.10],
    [ 0.05, -0.25],
    [-0.02, -0.42],
    [-0.08, -0.62],
    [-0.12, -0.80],
    [-0.10, -0.96],
    [-0.02, -1.05],
    [ 0.08, -1.06],
    [ 0.18, -0.98],
    [ 0.26, -0.86],
    [ 0.31, -0.72],
    [ 0.34, -0.58],
    [ 0.35, -0.44],
    [ 0.34, -0.30],
    [ 0.31, -0.14],
    [ 0.26,  0.02],
    [ 0.20,  0.20],
    [ 0.12,  0.44],
    [ 0.08,  0.66],
    [ 0.08,  0.84]
  ];

  function boundsOf(poly) {
    let minX = Infinity, maxX = -Infinity, minY = Infinity, maxY = -Infinity;
    for (const [x, y] of poly) {
      if (x < minX) minX = x;
      if (x > maxX) maxX = x;
      if (y < minY) minY = y;
      if (y > maxY) maxY = y;
    }
    return { minX, maxX, minY, maxY };
  }

  function sampleInTaiwan(poly, scaleX, scaleY, zDepth) {
    const { minX, maxX, minY, maxY } = boundsOf(poly);
    while (true) {
      const x = randBetween(minX, maxX);
      const y = randBetween(minY, maxY);
      if (pointInPoly(x, y, poly)) {
        return {
          x: x * scaleX,
          y: y * scaleY,
          z: (Math.random() - 0.5) * zDepth
        };
      }
    }
  }

  function generateTaiwanGraph({
    nNodes = 170,
    linkRadius = 18,
    maxLinksPerNode = 3,
    scaleX = 105,
    scaleY = 150,
    zDepth = 14
  } = {}) {
    const nodes = [];
    const links = [];

    for (let i = 0; i < nNodes; i++) {
      const p = sampleInTaiwan(TAIWAN_OUTLINE, scaleX, scaleY, zDepth);
      nodes.push({ id: `T${i}`, group: "TW", ...p });
    }

    const r2 = linkRadius * linkRadius;
    function dist2(a, b) {
      const dx = a.x - b.x, dy = a.y - b.y, dz = a.z - b.z;
      return dx*dx + dy*dy + dz*dz;
    }

    for (let i = 0; i < nodes.length; i++) {
      let added = 0;
      for (let j = i + 1; j < nodes.length; j++) {
        if (dist2(nodes[i], nodes[j]) <= r2) {
          links.push({ source: nodes[i].id, target: nodes[j].id });
          if (++added >= maxLinksPerNode) break;
        }
      }
    }
    return { nodes, links };
  }

  const data = generateTaiwanGraph();

  const Graph = ForceGraph3D()(document.getElementById("graph"))
    .graphData(data)
    .backgroundColor("rgba(0,0,0,0)")
    .nodeColor(() => getComputedStyle(document.documentElement).getPropertyValue("--node").trim() || "#4ade80")
    .nodeOpacity(0.95)
    .nodeRelSize(3)  // <-- makes nodes easier to see
    .linkColor(() => getComputedStyle(document.documentElement).getPropertyValue("--link").trim() || "rgba(200,210,220,0.25)")
    .linkOpacity(1)
    .linkWidth(1)
    .cooldownTime(3500)
    .d3VelocityDecay(0.35);

  // Camera: a bit closer so it fills your screen
Graph.cameraPosition({ x: 0, y: 0, z: 140 }, { x: 0, y: 0, z: 0 });

  Graph.onNodeClick(node => {
    const dist = 110;
    const ratio = 1 + dist / Math.hypot(node.x, node.y, node.z);
    Graph.cameraPosition(
      { x: node.x * ratio, y: node.y * ratio, z: node.z * ratio },
      node,
      800
    );
  });

  window.addEventListener("resize", () => {
    Graph.width(window.innerWidth);
    Graph.height(window.innerHeight);
  });
</script>  
</body>
</html>
