<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Your Name</title>

  <style>
    :root{
      --bg1:#0b1328;           /* galactic blue */
      --bg2:#060914;           /* near-black blue */
      --text:#9aa3b2;          /* grey text */
      --node:#4ade80;          /* soft neon green */
      --link:rgba(200,210,220,0.25); /* light gray lines */
    }

    html, body {
      margin: 0;
      height: 100%;
      background: radial-gradient(circle at top, var(--bg1), var(--bg2));
      color: var(--text);
      font: 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      overflow: hidden;
    }

    #graph { width: 100vw; height: 100vh; }

    /* Minimal top-left header */
    .header {
      position: fixed;
      top: 18px;
      left: 18px;
      z-index: 10;
      background: rgba(0,0,0,0.35);
      border: 1px solid rgba(255,255,255,0.08);
      padding: 12px 14px;
      border-radius: 12px;
      backdrop-filter: blur(6px);
      max-width: min(520px, calc(100vw - 36px));
    }

    .name {
      margin: 0 0 6px;
      font-size: 16px;
      font-weight: 600;
      letter-spacing: 0.2px;
      color: #c7cfdd;
    }

    .bio {
      margin: 0 0 8px;
      font-size: 14px;
      color: var(--text);
    }

    .links a {
      color: #c7cfdd;
      text-decoration: none;
      margin-right: 10px;
      font-size: 14px;
      white-space: nowrap;
      opacity: 0.9;
    }
    .links a:hover { text-decoration: underline; text-underline-offset: 3px; opacity: 1; }

    /* Bottom-left mouse hint */
    .hint {
      position: fixed;
      left: 18px;
      bottom: 18px;
      z-index: 10;
      font-size: 13px;
      color: var(--text);
      background: rgba(0,0,0,0.28);
      border: 1px solid rgba(255,255,255,0.07);
      padding: 10px 12px;
      border-radius: 12px;
      backdrop-filter: blur(6px);
    }
  </style>

  <!-- Interactive 3D brain graph (Three.js bundled). -->
  <script src="https://unpkg.com/3d-force-graph@1"></script>
</head>

<body>
  <div id="graph"></div>

  <div class="header">
    <p class="name">Your Name</p>
    <p class="bio">I build things around X, Y, Z. Currently exploring A → B → C.</p>
    <div class="links">
      <a href="mailto:you@example.com">Email</a>
      <a href="https://github.com/yourhandle" rel="noreferrer">GitHub</a>
      <a href="https://www.linkedin.com/in/yourhandle" rel="noreferrer">LinkedIn</a>
      <a href="https://twitter.com/yourhandle" rel="noreferrer">Twitter</a>
    </div>
  </div>

  <div class="hint">
    Drag = rotate • Scroll = zoom • Right-drag = pan • Click node = focus
  </div>

  <script>
    // --------- Utilities: gaussian sampling ---------
    function randn() {
      // Box–Muller transform
      let u = 0, v = 0;
      while (u === 0) u = Math.random();
      while (v === 0) v = Math.random();
      return Math.sqrt(-2 * Math.log(u)) * Math.cos(2 * Math.PI * v);
    }

    function sampleEllipsoid(cx, cy, cz, rx, ry, rz, tightness = 1.2) {
      // Sample inside unit sphere w/ mild center bias, then scale to ellipsoid
      let x, y, z;
      while (true) {
        x = randn() / tightness;
        y = randn() / tightness;
        z = randn() / tightness;
        if (x * x + y * y + z * z <= 1.0) break;
      }
      return { x: cx + x * rx, y: cy + y * ry, z: cz + z * rz };
    }

    // --------- Brain-ish graph generator ---------
    function generateBrainGraph({
      nLeft = 240,
      nRight = 240,
      nBridge = 40,
      linkRadius = 38,
      maxLinksPerNode = 4
    } = {}) {
      const nodes = [];
      const links = [];

      // Shape controls (tweak to taste)
      const rx = 85, ry = 60, rz = 70; // hemisphere radii
      const sep = 55;                  // hemisphere separation on X

      // Left hemisphere
      for (let i = 0; i < nLeft; i++) {
        const p = sampleEllipsoid(-sep, 0, 0, rx, ry, rz, 1.2);
        nodes.push({ id: `L${i}`, group: "L", ...p });
      }

      // Right hemisphere
      for (let i = 0; i < nRight; i++) {
        const p = sampleEllipsoid(sep, 0, 0, rx, ry, rz, 1.2);
        nodes.push({ id: `R${i}`, group: "R", ...p });
      }

      // Bridge (corpus-callosum-ish)
      for (let i = 0; i < nBridge; i++) {
        const p = sampleEllipsoid(0, -6, 0, 38, 18, 22, 1.4);
        nodes.push({ id: `B${i}`, group: "B", ...p });
      }

      const r2 = linkRadius * linkRadius;

      function dist2(a, b) {
        const dx = a.x - b.x, dy = a.y - b.y, dz = a.z - b.z;
        return dx * dx + dy * dy + dz * dz;
      }

      // Connect to nearby neighbors (kept sparse for readability)
      for (let i = 0; i < nodes.length; i++) {
        const a = nodes[i];
        let added = 0;
        for (let j = i + 1; j < nodes.length; j++) {
          const b = nodes[j];
          if (dist2(a, b) <= r2) {
            links.push({ source: a.id, target: b.id });
            if (++added >= maxLinksPerNode) break;
          }
        }
      }

      // Ensure hemispheres are connected through bridge
      const left = nodes.filter(n => n.group === "L");
      const right = nodes.filter(n => n.group === "R");
      const bridge = nodes.filter(n => n.group === "B");

      for (let k = 0; k < bridge.length; k++) {
        const b = bridge[k];
        links.push({ source: b.id, target: left[(k * 7) % left.length].id });
        links.push({ source: b.id, target: right[(k * 11) % right.length].id });
      }

      return { nodes, links };
    }

    // --------- Render graph ---------
    const data = generateBrainGraph();

    const Graph = ForceGraph3D()(document.getElementById("graph"))
      .graphData(data)
      // Transparent so the CSS gradient shows through
      .backgroundColor("rgba(0,0,0,0)")

      // Green nodes
      .nodeColor(() => getComputedStyle(document.documentElement).getPropertyValue("--node").trim() || "#4ade80")
      .nodeOpacity(0.95)

      // Light gray links
      .linkColor(() => getComputedStyle(document.documentElement).getPropertyValue("--link").trim() || "rgba(200,210,220,0.25)")
      .linkOpacity(1)
      .linkWidth(1)

      .cooldownTime(6500)
      .d3VelocityDecay(0.3);

    // Starting camera
    Graph.cameraPosition({ x: 0, y: 40, z: 240 }, { x: 0, y: 0, z: 0 });

    // Click node to focus
    Graph.onNodeClick(node => {
      const dist = 120;
      const ratio = 1 + dist / Math.hypot(node.x, node.y, node.z);
      Graph.cameraPosition(
        { x: node.x * ratio, y: node.y * ratio, z: node.z * ratio },
        node,
        800
      );
    });

    // Keep canvas sized correctly
    window.addEventListener("resize", () => {
      Graph.width(window.innerWidth);
      Graph.height(window.innerHeight);
    });
  </script>
</body>
</html>
